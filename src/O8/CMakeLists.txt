# Basics
ADD_SUBDIRECTORY(Common)
ADD_SUBDIRECTORY(Image)
ADD_SUBDIRECTORY(Math)
ADD_SUBDIRECTORY(Templates)
ADD_SUBDIRECTORY(Test)
ADD_SUBDIRECTORY(Utility)

ADD_SUBDIRECTORY(DL)
IF(WIN32)
	ADD_SUBDIRECTORY(DL_Windows)
ENDIF(WIN32)

ADD_SUBDIRECTORY(Thread)
IF(WIN32)
	ADD_SUBDIRECTORY(Thread_Windows)
ENDIF(WIN32)


# Modules
#Asset
IF (BUILD_ASSET)
	ADD_SUBDIRECTORY(Asset)

	IF (BUILD_TOOLS AND BUILD_ASSET_IMPORT AND BUILD_ASSET_ARCHIVE AND BUILD_ASSET_REGISTRY)
		ADD_SUBDIRECTORY(AssetCmdTool)
	ENDIF (BUILD_TOOLS AND BUILD_ASSET_IMPORT AND BUILD_ASSET_ARCHIVE AND BUILD_ASSET_REGISTRY)

	IF (BUILD_ASSET_IMPORT)
		IF (BUILD_ASSET_IMPORTER_ASSIMP)
			ADD_SUBDIRECTORY(Asset_Importer_ASSIMP)
		ENDIF (BUILD_ASSET_IMPORTER_ASSIMP)
	ENDIF (BUILD_ASSET_IMPORT)
ENDIF (BUILD_ASSET)

#GI
IF (BUILD_GI)
	ADD_SUBDIRECTORY(GI)
	
	IF(BUILD_OPENGL)
		ADD_SUBDIRECTORY(OpenGL)
		ADD_SUBDIRECTORY(GI_OGL)
		IF(WIN32)
			ADD_SUBDIRECTORY(GI_Windows_OGL)
		ENDIF(WIN32)
	ENDIF(BUILD_OPENGL)
	
	IF (BUILD_RS)
		ADD_SUBDIRECTORY(RS)
	ENDIF (BUILD_RS)
ENDIF (BUILD_GI)


#Engine
IF (BUILD_GI AND BUILD_RS AND BUILD_ASSET AND BUILD_ENGINE)
	ADD_SUBDIRECTORY(Engine)
ENDIF (BUILD_GI AND BUILD_RS AND BUILD_ASSET AND BUILD_ENGINE)

#WS
IF (BUILD_WS)
	ADD_SUBDIRECTORY(WS)
	IF(WIN32)
		ADD_SUBDIRECTORY(WS_Windows)
	ENDIF(WIN32)
ENDIF (BUILD_WS)


# Demo application
IF (BUILD_DEMO)
	IF (BUILD_GI AND BUILD_RS AND BUILD_ASSET AND BUILD_ENGINE AND BUILD_WS)
		ADD_SUBDIRECTORY(Demo_basics)
	ENDIF (BUILD_GI AND BUILD_RS AND BUILD_ASSET AND BUILD_ENGINE AND BUILD_WS)
ENDIF (BUILD_DEMO)

